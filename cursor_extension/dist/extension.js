"use strict";var I=Object.create;var w=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var M=(s,e)=>{for(var n in e)w(s,n,{get:e[n],enumerable:!0})},g=(s,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of x(e))!L.call(s,t)&&t!==n&&w(s,t,{get:()=>e[t],enumerable:!(a=C(e,t))||a.enumerable});return s};var h=(s,e,n)=>(n=s!=null?I(S(s)):{},g(e||!s||!s.__esModule?w(n,"default",{value:s,enumerable:!0}):n,s)),A=s=>g(w({},"__esModule",{value:!0}),s);var b={};M(b,{activate:()=>E,deactivate:()=>T});module.exports=A(b);var o=h(require("vscode")),i=h(require("fs")),c=h(require("path"));function f(s){let e=s.split(/\r?\n/),n=e.findIndex(r=>r.trim().length>0),t=e.slice(n+1).filter(r=>!r.trim().match(/^```[a-zA-Z]*$/)).map(r=>r.replace(/```$/,""));for(;t.length>0&&t[0].trim()==="";)t.shift();for(;t.length>0&&t[t.length-1].trim()==="";)t.pop();return t.join(`
`)}async function U(s){try{console.log("\u{1F680} URI received:",s.toString()),o.window.showInformationMessage(`URI al\u0131nd\u0131: ${s.toString()}`);let e=new URLSearchParams(s.query),n=e.get("file"),a=e.get("content");if(!n||!a){o.window.showErrorMessage("VS Code URI eksik parametreler: file ve content gerekli");return}let t=decodeURIComponent(n),r=decodeURIComponent(a);await R(r,t)}catch(e){console.error("\u274C URI handling error:",e),o.window.showErrorMessage(`VS Code URI i\u015Fleme hatas\u0131: ${e}`)}}async function R(s,e){try{console.log("\u{1F4DD} Starting handleDeepLinkContent with:",{filePath:e,contentLength:s.length});let n=f(s);if(!o.workspace.workspaceFolders){o.window.showErrorMessage("\xC7al\u0131\u015Fma klas\xF6r\xFC a\xE7\u0131k de\u011Fil");return}let a=o.workspace.workspaceFolders[0].uri.fsPath,t;c.isAbsolute(e)?t=e:t=c.join(a,e);let r=c.dirname(t);i.existsSync(r)||i.mkdirSync(r,{recursive:!0}),i.writeFileSync(t,n,"utf-8");let m=await o.workspace.openTextDocument(t);await o.window.showTextDocument(m),o.window.showInformationMessage(`\u2705 Kod ${e} dosyas\u0131na yaz\u0131ld\u0131 ve a\xE7\u0131ld\u0131`)}catch(n){console.error("\u274C Error in handleDeepLinkContent:",n),o.window.showErrorMessage(`Dosya yazma hatas\u0131: ${n}`)}}function E(s){console.log("\u{1F389} AI Studio Copy extension is ACTIVATING!");let e=o.window.createStatusBarItem(o.StatusBarAlignment.Right,100);e.text="$(file-add) AI Studio",e.command="aistudiocopy.pasteToFile",e.tooltip="Paste code from clipboard to file",e.show(),console.log("\u2705 Status bar item created and shown");let n=o.window.registerUriHandler({handleUri:U});console.log("\u2705 URI handler registered");let a=o.commands.registerCommand("aistudiocopy.pasteToFile",async()=>{try{console.log("\u{1F525} Paste command executed!"),o.window.showInformationMessage("\u{1F525} AI Studio Copy \xE7al\u0131\u015F\u0131yor!");let t=await o.env.clipboard.readText();if(!t.trim()){o.window.showErrorMessage("Pano bo\u015F, kopyalanm\u0131\u015F i\xE7erik bulunamad\u0131");return}let p=t.split(/\r?\n/)[0].match(/^(?:#|\/\/)\s*(.+\.\w+)/);if(!p){o.window.showErrorMessage(`\u0130lk sat\u0131rda dosya yolu bulunamad\u0131.
\xD6rnekler:
// src/components/Layout.tsx
// C:/tam/yol/Layout.tsx
# src/utils/helper.js`);return}let l=p[1].trim(),v=f(t);if(!o.workspace.workspaceFolders){o.window.showErrorMessage("\xC7al\u0131\u015Fma klas\xF6r\xFC a\xE7\u0131k de\u011Fil");return}let y=o.workspace.workspaceFolders[0].uri.fsPath,d;c.isAbsolute(l)?d=l:d=c.join(y,l);let u=c.dirname(d);i.existsSync(u)||i.mkdirSync(u,{recursive:!0}),i.writeFileSync(d,v,"utf-8");let k=await o.workspace.openTextDocument(d);await o.window.showTextDocument(k),o.window.showInformationMessage(`\u2705 Kod ${l} dosyas\u0131na yaz\u0131ld\u0131 ve a\xE7\u0131ld\u0131`)}catch(t){console.error("\u274C Paste command error:",t),o.window.showErrorMessage(`Dosya yazma hatas\u0131: ${t}`)}});s.subscriptions.push(e,n,a),console.log("\u{1F3AF} AI Studio Copy extension FULLY ACTIVATED!"),o.window.showInformationMessage("\u{1F3AF} AI Studio Copy eklentisi aktif!")}function T(){console.log("\u{1F44B} AI Studio Copy extension deactivated")}0&&(module.exports={activate,deactivate});
