"use strict";var x=Object.create;var m=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var P=(o,s)=>{for(var r in s)m(o,r,{get:s[r],enumerable:!0})},v=(o,s,r,n)=>{if(s&&typeof s=="object"||typeof s=="function")for(let t of I(s))!b.call(o,t)&&t!==r&&m(o,t,{get:()=>s[t],enumerable:!(n=M(s,t))||n.enumerable});return o};var u=(o,s,r)=>(r=o!=null?x(S(o)):{},v(s||!o||!o.__esModule?m(r,"default",{value:o,enumerable:!0}):r,o)),C=o=>v(m({},"__esModule",{value:!0}),o);var T={};P(T,{activate:()=>E,deactivate:()=>F});module.exports=C(T);var e=u(require("vscode")),i=u(require("fs")),c=u(require("path"));function g(o){if(!o.includes("```"))return o;let s=o.split(/\r?\n/),r=s.findIndex(d=>d.trim().length>0),t=s.slice(r+1).filter(d=>!d.trim().match(/^```[a-zA-Z]*$/)).map(d=>d.replace(/```$/,""));for(;t.length>0&&t[0].trim()==="";)t.shift();for(;t.length>0&&t[t.length-1].trim()==="";)t.pop();return t.join(`
`)}async function L(o){try{let s=new URLSearchParams(o.query),r=s.get("file");if(!r){e.window.showErrorMessage("VS Code URI eksik parametre: file gerekli");return}let n=s.get("content");if(n)n=decodeURIComponent(n);else if(n=await e.env.clipboard.readText(),!n){e.window.showInformationMessage("Pano bo\u015F. L\xFCtfen AI Studio'dan kodu tekrar g\xF6nderin.");return}let t=g(n);if(!e.workspace.workspaceFolders){e.window.showErrorMessage("\xC7al\u0131\u015Fma klas\xF6r\xFC a\xE7\u0131k de\u011Fil");return}let d=e.workspace.workspaceFolders[0].uri.fsPath,l;c.isAbsolute(r)?l=r:l=c.join(d,r);let a=c.dirname(l);i.existsSync(a)||i.mkdirSync(a,{recursive:!0}),i.writeFileSync(l,t,"utf-8");let w=await e.workspace.openTextDocument(l);await e.window.showTextDocument(w),e.window.showInformationMessage(`\u2705 Kod ${r} dosyas\u0131na yaz\u0131ld\u0131 ve a\xE7\u0131ld\u0131`)}catch(s){e.window.showErrorMessage(`VS Code URI i\u015Fleme hatas\u0131: ${s}`)}}function E(o){e.window.showInformationMessage("\u{1F3AF} AI Studio Copy extension activated!");let s=e.window.createStatusBarItem(e.StatusBarAlignment.Right,100);s.text="$(file-add) AI Studio",s.command="aistudiocopy.pasteToFile",s.tooltip="Paste code from clipboard to file",s.show();let r=e.window.registerUriHandler({handleUri:L}),n=e.commands.registerCommand("aistudiocopy.pasteToFile",async()=>{try{let t=await e.env.clipboard.readText();if(!t.trim()){e.window.showErrorMessage("Pano bo\u015F, kopyalanm\u0131\u015F i\xE7erik bulunamad\u0131");return}let a=t.split(/\r?\n/)[0].match(/^(?:\/\/\s*(.+\.\w+)|#\s*(.+\.\w+)|\/\*\s*(.+\.\w+)\s*\*\/|<!--\s*(.+\.\w+)\s*-->|--\s*(.+\.\w+)|%\s*(.+\.\w+))/);if(!a){e.window.showErrorMessage(`\u0130lk sat\u0131rda dosya yolu bulunamad\u0131.
\xD6rnekler:
// src/components/Layout.tsx
# src/utils/helper.js
/* src/styles/app.css */
<!-- src/templates/page.html -->
-- src/queries/data.sql
% src/scripts/process.m`);return}let w=(a[1]||a[2]||a[3]||a[4]||a[5]||a[6]||"").trim();if(!w){e.window.showErrorMessage(`\u0130lk sat\u0131rda dosya yolu bulunamad\u0131.
\xD6rnekler:
// src/components/Layout.tsx
# src/utils/helper.js
/* src/styles/app.css */
<!-- src/templates/page.html -->
-- src/queries/data.sql
% src/scripts/process.m`);return}let h=g(t);if(!e.workspace.workspaceFolders){e.window.showErrorMessage("\xC7al\u0131\u015Fma klas\xF6r\xFC a\xE7\u0131k de\u011Fil");return}let k=e.workspace.workspaceFolders[0].uri.fsPath,p;c.isAbsolute(w)?p=w:p=c.join(k,w);let f=c.dirname(p);i.existsSync(f)||i.mkdirSync(f,{recursive:!0}),i.writeFileSync(p,h,"utf-8");let y=await e.workspace.openTextDocument(p);await e.window.showTextDocument(y),e.window.showInformationMessage(`\u2705 Kod ${w} dosyas\u0131na yaz\u0131ld\u0131 ve a\xE7\u0131ld\u0131`)}catch(t){e.window.showErrorMessage(`Dosya yazma hatas\u0131: ${t}`)}});o.subscriptions.push(s,r,n)}function F(){}0&&(module.exports={activate,deactivate});
